@{
    Layout = null;
}
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link href="~/CSS/SaoRoi.css" rel="stylesheet" />
    <style>
        .avatar-option { cursor: pointer; border: 2px solid transparent; padding: 6px; border-radius: 8px; }
        .avatar-option.selected { border-color: #0d6efd; box-shadow: 0 2px 6px rgba(13,110,253,.15); }
        .avatar-grid { display:flex; gap:10px; flex-wrap:wrap; }
        .avatar-grid img { width:64px; height:64px; object-fit:cover; border-radius:8px; }
    </style>
</head>
<body>

    <div class="night">
        @for (int i = 0; i < 100; i++)
        {
            <div class="shooting_star"></div>
        }
    </div>

    <div class="login-wrapper">

        @using (Html.BeginForm("RegisterSubmit", "User", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            
            <div class="card" style="width:450px;">
                <h3 class="card-title text-center mb-3" style="color:white">Đăng ký tài khoản</h3>

                <div class="mb-3">
                    <label style="color:white">Họ tên</label>
                    <input type="text" name="HoTen" required class="form-control" />
                </div>

                <div class="mb-3">
                    <label style="color:white">Số điện thoại</label>
                    <input type="text" name="SoDienThoai" class="form-control" />
                </div>

                <div class="mb-3">
                    <label style="color:white">Địa chỉ</label>
                    <input type="text" name="DiaChi" class="form-control" />
                </div>

                <div class="mb-3">
                    <label style="color:white">Giới tính</label>
                    <select name="GioiTinh" class="form-control">
                        <option>Nam</option>
                        <option>Nữ</option>
                        <option>Khác</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label style="color:white">Ngày sinh</label>
                    <input type="date" name="NgaySinh" required class="form-control" />
                </div>

                <hr />

                <div class="mb-3">
                    <label style="color:white">Email / Tên đăng nhập</label>
                    <input type="email" name="TenDangNhap" required class="form-control" />
                </div>

                <div class="mb-3">
                    <label style="color:white">Mật khẩu</label>
                    <input type="password" name="MatKhau" required class="form-control" />
                </div>

                <div class="mb-3">
                    <label style="color:white">Nhập lại mật khẩu</label>
                    <input type="password" name="NhapLaiMatKhau" required class="form-control" />
                </div>

                <hr />

                <div class="mb-3">
                    <label style="color:white">Chọn avatar</label>
                    <div class="avatar-grid mt-2">
                        <label class="avatar-option" data-name="avatar_chicken.png">
                            <input type="radio" name="Avatar" value="avatar_chicken.png" style="display:none;" />
                            <img src="~/Content/avatars/avatar_chicken.png" alt="Gà" />
                        </label>
                        <label class="avatar-option" data-name="avatar_duck.png">
                            <input type="radio" name="Avatar" value="avatar_duck.png" style="display:none;" />
                            <img src="~/Content/avatars/avatar_duck.png" alt="Vịt" />
                        </label>
                        <label class="avatar-option" data-name="avatar_cat.png">
                            <input type="radio" name="Avatar" value="avatar_cat.png" style="display:none;" />
                            <img src="~/Content/avatars/avatar_cat.png" alt="Mèo" />
                        </label>
                        <label class="avatar-option" data-name="avatar_dog.png">
                            <input type="radio" name="Avatar" value="avatar_dog.png" style="display:none;" />
                            <img src="~/Content/avatars/avatar_dog.png" alt="Chó" />
                        </label>
                        <label class="avatar-option" data-name="avatar_pig.png">
                            <input type="radio" name="Avatar" value="avatar_pig.png" style="display:none;" />
                            <img src="~/Content/avatars/avatar_pig.png" alt="Heo" />
                        </label>
                    </div>
                    <small class="text-muted">Chọn một hình làm ảnh đại diện</small>
                </div>

                <button class="btn btn-primary w-100">ĐĂNG KÝ</button>

                @if (ViewBag.Error != null)
                {
                    <div class="alert alert-danger mt-3">@ViewBag.Error</div>
                }
                
                @if (TempData["Success"] != null)
                {
                    <div class="alert alert-success mt-3">@TempData["Success"]</div>
                }
            </div>
        }

    </div>

    <script>
        document.querySelectorAll('.avatar-option').forEach(function(el){
            el.addEventListener('click', function(){
                document.querySelectorAll('.avatar-option').forEach(x => x.classList.remove('selected'));
                el.classList.add('selected');
                var input = el.querySelector('input[type=radio]');
                if(input) input.checked = true;
            });
        });
    </script>

</body>
</html>